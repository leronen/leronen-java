<project name="leronen-java" default="jar">
            
    <property name="src" location="src"/>
    <property name="classes" location="build"/>
    <property name="jars" location="jars"/>      
  
    
                    
  
    <target name="init">
        <tstamp/>
        <mkdir dir="${classes}"/>            
        <mkdir dir="${jars}"/>
    </target>

    <target name="rebuild" depends="clean, classes, jar">
    </target>
  
    <target name="classes" depends="init"
        description="classes" >
        
        <javac     
            srcdir="${src}" 
            destdir="${classes}"
            debug="on"
            deprecation="on"
            target="1.6"
            source="1.6">
        <!-- A lot of generics-related warnings can be generated by enableing this:
          <compilerarg line="-Xlint:unchecked" /> 
         -->
         <classpath>
          <pathelement path="${classpath}"/>
          <pathelement location="lib/ext/json.jar"/>
         </classpath>
        </javac>
    </target>  
     
    <target name="jar" depends="classes" description="build the jar and deploy it also">
        <jar destfile="${jars}/leronen.jar" basedir="${classes}">
        </jar>                                                               
    </target>
    
    <target name="deploy" depends="jar" description="deploy the jar, building it if needed">
        <copy file="${jars}/leronen.jar" todir="/home/leronen/java/jars"/>                                                               
    </target>
    
    <target name="clean"
        description="clean up" >
        <delete dir="${classes}"/>
        <delete dir="${jars}"/>    
    </target>
    

</project>
